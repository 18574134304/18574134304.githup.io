(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4066e1d0"],{"24c7":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{attrs:{id:"Address"}},[t("div",{staticClass:"mui-navbar-inner mui-bar mui-bar-nav"},[t("button",{staticClass:"mui-left mui-btn mui-btn-link mui-btn-nav mui-pull-left",attrs:{type:"button"},on:{tap:s.back}},[t("span",{staticClass:"mui-icon mui-icon-left-nav"})]),t("h1",{staticClass:"mui-center mui-title",staticStyle:{"margin-left":"-30px"}},[s._v("我的地址")]),t("h1",{staticClass:"mui-title"})]),t("div",{directives:[{name:"show",rawName:"v-show",value:!s.isLoading,expression:"!isLoading"}],staticClass:"address_box"},[s.address_data.length?s._l(s.address_data,(function(e){return t("div",{key:e[0],staticClass:"item"},[t("div",{staticClass:"address_info"},[t("p",{staticClass:"address"},[s._v(s._s(e[3]+" "+e[5]))]),t("div",{staticClass:"user_info"},[t("p",{staticClass:"uname"},[s._v(s._s(e[1]))]),t("p",{staticClass:"uphone"},[s._v(s._s(e[2]))])])]),t("div",{staticClass:"address_fun"},[!1===e[6]?t("a",{staticClass:"add_set_default",attrs:{href:"javascript:void(0);"},on:{tap:function(t){return s.setdef(e[0])}}},[s._v("设为默认地址")]):t("a",{staticClass:"add_default",attrs:{href:"javascript:void(0);"}},[s._v("默认地址")]),t("a",{staticClass:"add_edit",attrs:{href:"javascript:void(0);"},on:{tap:function(t){return s.edit_address(e)}}},[s._v("修改地址")]),t("a",{staticClass:"add_delete",attrs:{href:"javascript:void(0);"},on:{tap:function(t){return s.del_address(e[0])}}},[s._v("删除地址")])])])})):t("h2",{staticClass:"n_msg"},[t("span",{staticClass:"mi_b mui-icon iconfont icon-meiyoushuju"}),t("p",[s._v("没有数据")])])],2),t("router-link",{staticClass:"add_address",attrs:{to:"/add_address"}},[s._v("添加地址")]),t("Loading",{directives:[{name:"show",rawName:"v-show",value:s.isLoading,expression:"isLoading"}]})],1)},i=[],d=(t("ac1f"),t("5319"),t("54a1")),r={components:{Loading:d["a"]},data:function(){return{query_info:{setUserid:null},address_data:[],set_defInfo:{setUserid:null,setAddressno:"",setIsdefault:!0},del_addressInfo:{setUserid:null,setAddressno:""},edit_data:{setUserid:null,setUsername:"",setPhone:"",setAddress:"",setCountry:"中国",setDetailedaddress:"",setAddressno:"",setType:2,setIsdefault:!1},isLoading:!0}},created:function(){var s=this,e=JSON.parse(window.sessionStorage.getItem("user"));if(e){this.userInfo=e,this.query_info.setUserid=e[1],this.set_defInfo.setUserid=e[1],this.del_addressInfo.setUserid=e[1],this.edit_data.setUserid=e[1];var t=setInterval((function(){s.$ws.websock&&1===s.$ws.websock.readyState&&(s.queryAddress(),clearInterval(t))}),10)}else this.$router.replace("/login")},methods:{queryAddress:function(){var s=this;this.isLoading=!0;var e,t=this.$request("address_req",this.query_info,50);this.$ws.websocketsend(t),e=setInterval((function(){s.$res&&(s.isLoading=!1,0===s.$res[2]&&(s.address_data=s.$res[1]),clearInterval(e))}),50)},setdef:function(s){var e=this;this.set_defInfo.setAddressno=s;var t,a=this.$request("SetDefaultAddress_req",this.set_defInfo,52);this.$ws.websocketsend(a),t=setInterval((function(){e.$res&&(0===e.$res[1]?(e.mui.toast("设置默认地址成功"),e.queryAddress()):e.mui.toast("失败"),clearInterval(t))}),50)},del_address:function(s){var e=this;this.mui.confirm("确定删除吗？",(function(t){if(t.index){e.del_addressInfo.setAddressno=s;var a,i=e.$request("deleteAddress_req",e.del_addressInfo,49);e.$ws.websocketsend(i),a=setInterval((function(){e.$res&&(0===e.$res[1]?(e.mui.toast("删除成功"),e.queryAddress()):e.mui.toast("失败"),clearInterval(a))}),50)}}))},edit_address:function(s){var e=this.edit_data;e.setUsername=s[1],e.setPhone=s[2],e.setAddress=s[3],e.setDetailedaddress=s[5],e.setAddressno=s[0],e.setIsdefault=s[6],window.sessionStorage.setItem("edit",JSON.stringify(e)),this.$router.push("/add_address")},back:function(){var s={tabIndex:4};window.sessionStorage.setItem("tabData",JSON.stringify(s)),this.$router.replace("/index")}}},n=r,o=(t("9197"),t("2877")),u=Object(o["a"])(n,a,i,!1,null,"7cca69d6",null);e["default"]=u.exports},6001:function(s,e,t){},9197:function(s,e,t){"use strict";var a=t("6001"),i=t.n(a);i.a}}]);