(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73141252"],{"0a43":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Order_Detail"}},[t._m(0),a("div",{staticClass:"mui-content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],attrs:{id:"order_detail"}},[a("div",{staticClass:"order_header"},[a("div",{staticClass:"order_header_l"},[a("p",{staticClass:"md_name"},[t._v("门店 "+t._s(t.shopName))]),a("p",[t._v("应付金额:"+t._s("￥"+t.od_data[5]+"元"))]),a("p",[t._v("忌口:"+t._s(t._f("byteToString")(t.od_data[3])))])]),a("div",{staticClass:"order_header_r"},[a("p",[t._v("下单时间 "+t._s(t.od_data[6]))]),a("p",[t._v("已付金额:"+t._s("￥"+t.od_data[10]+"元"))]),1===t.od_data[8]?a("p",[t._v("订单状态: 待支付")]):2===t.od_data[8]?a("p",[t._v("订单状态: 待收货")]):3===t.od_data[8]?a("p",[t._v("订单状态: 待评价")]):4===t.od_data[8]?a("p",[t._v("订单状态: 退款")]):5===t.od_data[8]?a("p",[t._v("订单状态: 完成")]):7===t.od_data[8]?a("p",[t._v("订单状态: 已付款")]):a("p",[t._v("订单状态: 暂无")])])]),a("div",{staticClass:"order_content"},t._l(t.od_data[2],(function(e){return a("div",{key:e[1],staticClass:"c_item"},[a("div",{staticClass:"c_name"},[a("p",[t._v(t._s(e[2]))])]),a("p",{staticClass:"c_num"},[t._v(t._s(e[4]+"份"))]),a("p",{staticClass:"c_price"},[t._v(t._s("￥"+e[4]*e[3]))])])})),0),a("div",{staticClass:"o_btn_group mui-clearfix"},[1===t.od_data[8]?a("a",{attrs:{href:"javascript:void(0);"},on:{tap:function(e){return t.goPay(t.od_data[0])}}},[t._v("去支付")]):t._e(),1===t.od_data[8]||2===t.od_data[8]||7===t.od_data[8]?a("a",{attrs:{href:"javascript:void(0);"},on:{tap:t.cancel_order}},[t._v("取消订单")]):t._e(),a("a",{attrs:{href:"tel:10086"}},[t._v("联系商家")])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.video_flag,expression:"video_flag"}],staticClass:"backdrop",attrs:{id:"video"}},[a("div",[a("div",{staticClass:"close_btn",on:{tap:t.close_v}},[a("span",{staticClass:"mui-icon mui-icon-closeempty"})]),a("video",{staticClass:"video_source",attrs:{controls:""}},[a("source",{attrs:{src:t.video_scr,type:"video/mp4"}}),a("source",{attrs:{src:t.video_scr,type:"video/webm"}})])])]),a("loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mui-navbar-inner mui-bar mui-bar-nav"},[a("button",{staticClass:"mui-left mui-action-back mui-btn mui-btn-link mui-btn-nav mui-pull-left",attrs:{type:"button"}},[a("span",{staticClass:"mui-icon mui-icon-left-nav"})]),a("h1",{staticClass:"mui-center mui-title",staticStyle:{"margin-left":"-30px"}},[t._v("订单详情")]),a("h1",{staticClass:"mui-title"})])}],o=(a("ac1f"),a("5319"),a("54a1")),r=(a("3022"),{components:{Loading:o["a"]},data:function(){return{query_info:null,tim:null,shopName:null,od_data:[],isLoading:!0,q1:{setTime:"2020-08-21 17:00:00",setType:1,setShopid:this.$shopId},cancel_info:{setUserid:null,setShopid:this.$shopId,setOrderid:null},video_scr:a("ae46"),video_flag:!1}},methods:{query_detail:function(){var t=this;this.isLoading=!0;var e=this.$request("OrderDetial_req",this.query_info,19);this.$ws.websocketsend(e),this.tim=setInterval((function(){t.$res&&(t.isLoading=!1,clearInterval(t.tim),t.od_data=t.$res,t.cancel_info.setOrderid=t.od_data[0])}),50)},cancel_order:function(){var t=this;this.mui.confirm("确定取消改订单吗？",(function(e){if(1===e.index){var a=t.$request("DeleteOrder_req",t.cancel_info,15);t.$ws.websocketsend(a),t.tim=setInterval((function(){null!==t.$res&&(0===t.$res[1]?(t.mui.toast("取消订单成功"),t.$router.go(-1)):t.mui.toast("失败"),clearInterval(t.tim))}),50)}}))},goPay:function(t){window.sessionStorage.setItem("orderno",t),this.$router.replace("/PayOrder")},get_videoSrc:function(t){console.log(t),this.video_flag=!0,console.log(this.video_flag)},close_v:function(){this.video_flag=!1,this.video_scr=""}},created:function(){var t=this,e=window.sessionStorage.getItem("user");null!==e&&(this.cancel_info.setUserid=JSON.parse(e)[1]);var a=JSON.parse(window.sessionStorage.getItem("os"));if(!a)return this.$router.replace("/My_Order");this.query_info=a.q,this.shopName=a.sn;var s=setInterval((function(){t.$ws.websock&&1===t.$ws.websock.readyState&&(t.query_detail(),clearInterval(s))}),10)},mounted:function(){}}),n=r,d=(a("80e9"),a("2877")),c=Object(d["a"])(n,s,i,!1,null,"0cfe586b",null);e["default"]=c.exports},"80e9":function(t,e,a){"use strict";var s=a("a380"),i=a.n(s);i.a},a380:function(t,e,a){}}]);